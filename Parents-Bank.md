# Parents Bank

# Overview

Web based application to record deposits and withdrawals into an account. The target audience is parents wanting to teach their children to save. Children can also add a ‚Äúwishlist‚Äù of things they want to spend their money on.

# Domain Model 
## **User**
- Notes
  - The user model is part of the default site. You do not need to create a user model class
- Properties
  - Username
  - Password
## **Account**
- Summary
  - The account model holds information about the account owner (parent) and the account recipient (child)
- Properties
  - Id: Generated by the database
  - Owner: Email address of the parent
  - Recipient: Email address of the child
  - Name: Named after the child
  - OpenDate: Date account was created
  - InterestRate: Interest % earned on the account
- Methods / Functions
  - Year to Date interest earned on the account 
- Rules
  - Owner field must be a valid email
  - Recipient field must be valid email
  - Interest rate cannot be 0% or below
  - Interest rate cannot be 100% or above
  - Owner and recipient cannot be same email address
  - Open date should not be editable
  - An owner can only see accounts that they own
  - A recipient user can only have 1 recipient account
  - A recipient can only see accounts they are a recipient (e.g. they can only access one account at a time)
  - A recipient cannot be an owner of another account
  - An owner cannot be a recipient of another account
  - An account cannot be deleted if there is a balance on the account
  - Account Name is required 
  - Open date is not editable or updatable and must not change
## **Transaction**
- Summary
  - A transaction is a financial transaction in the account
- Properties
  - Id: Generated by the database
  - AccountId: The id of the account (managed automatically by the framework)
  - Account: The account the transaction belongs to
  - TransactionDate: The date the transaction occurred
  - Amount: The amount of the transaction (negative or positive). Positive indicates a credit, negative indicates a debit.
  - Note: A note for the transaction (e.g. Pocket Money, Purchase DVD, etc)
- Rules
  - A transaction cannot be for a $0.00 amount
  - A debit cannot be for more that the current account balance
  - A note is required
  - The transaction date cannot be in the future
  - The transaction date cannot be before the current year
## **WishList Item**
- Summary
  - An item that the recipient wishes to save their money for
- Properties
  - Id: Generated by the database
  - AccountId: The Id of the account (managed automatically by the framework)
  - Account: The account the wish list item belongs to
  - DateAdded: The date the item was added to the wishlist
  - Cost: The approximate amount the item costs to purchase
  - Description A description of the item
  - Link: (optional) a link to the the website where the item can be purchased (E.g. link to product on amazon)
  - Purchased: boolean indicator that the item has been purchased or not
- Rules
  - The url property must be a valid URL if it is provided
  - The description must be provided
  - A cost must be provided
  - A recipient cannot delete a wish list item
# Site Features

The following features must be provided:

## **Home Page**

You should provide a home page with graphics and a compelling UI. The intent of the home page is encourage parents to use your site and sign up to use your application.

url: ~/

## **Financial Resources Page**

You should provide a page with a list of resources for finances for children and parents. You should provide a section for parents and a section for children. Use the internet to search for articles, sites and resources that you can link to from this page. All links should open in a new window.

Use this for the url: ~/help/financial-resources

## ~~**Project Status Page**~~
~~~~
~~You should provide a page where you document your project status. This page does not need to be extensively styled. The intent is to keep me informed on the progress of your project and to know what you have worked on and what challenges you are facing.~~

~~~~~~**Example of raw HTML**~~
~~~~
~~~~
    <h2>Week 2: September 4, 2016</h2>
    <h3>Project Updates</h3>
    <ul>
      <li>Worked on user login</li>
      <li>Created financial resources page</li>
      <li>Working on transactions display UI</li>
    </ul>
    <h3>Project Challenges &amp; Issues</h3>
    <ul>
      <li>Spent some time trying to figure out the interest rate calculation - kept getting stuck trying to figure out the math</li>
    </ul>
    
## **Sign In**

Account owners (parents) and recipients (children) should be able to sign into the application. Use the prebuilt login features to facilitate sign in. The only pages that should be available without signing in are:

- Home Page
- Financial Resources Page
- Log in screens (these are available without signing in by default)

Once a user is signed in they should only be able to see accounts that belong to them. An account owner (parent) should be able to see all accounts they own. An account recipient (child) should only see the one account that is in their name.

## **Account List**

Once an account owner (parent) signs in they should land on the account list. This will display a list of all the accounts they own. This list should show the name of the account. The current balance and the date of the last deposit. 

For an account recipient (child) they should be redirected to the account details page for their account (an account recipient can only have access to one account). They should not see the account list page.

An account owner should have the ability to create, edit and delete an account but an account can only be deleted if there is a zero balance.

## **Account details**

The account details should display the following items:


- Transaction history - all transactions on the account
- Current Year to Date (YTD) interest accrued
- All wishlist items for the account.
  - Wish list items should have a different UI if they are affordable with the amount in the account (including the YTD interest earned)
  - Affordable items should show how much money will be left if the item is purchased
  - Items that are not-affordable should show much money is still needed to be able to purchase the item.

When an account owner is logged in the account details page should provide an option to add, edit and delete a transaction.

When an account owner or a recipient is logged in the account details page should provide an option to add, edit or delete a wish list item.


## **Interest**

You must calculate the interest the account has earned year to date and prominently display the interest earned in a visible place so the parents know how much interest they owe and the child can get excited about how much they have earned. If the child has earned more than $10 of interest you should display a graphic celebrating the milestone.

**Calculating interest:** you will need to figure out how to calculate interest. You are free to research a strategy but it should consist of a compound interest approach. Banking firms typically calculate interest based on the daily balance with the interest compounded monthly.

For a **5 point forfeit** you can use my interest calculator library by installing this nuget package:

- Install-Package Gtt.InterestCalculator -Version 0.0.0.1  (from the package manager console)
- https://www.nuget.org/packages/Gtt.InterestCalculator/0.0.0.1
- See +GTT Interest Calculator Library for usage instructions

**üí° Interest Tip**

A good strategy is to utilize my tip calculator initially and make sure you have made good progress on the overall project. You could assign a team member to specifically work on the interest calculation. It would be better to take the 6 point hit than lose more points by not delivering a working site.

# User Interfaces

Your application should consist of the following user interfaces at a minmum:


- Static Pages
  - Home page
  - Financial Resources Page
  - ~~Project Status Page~~
    
- Account Management Pages 
  - Index View: An owner can see all accounts they own
  - Details View: An owner/recipient can view a summary of the account
    - Account Balance (with interest)
    - Listing of all transactions
    - Listing of all wish list items
    - Ability to add / edit / delete an account
      
- Transaction Management Pages
  - Create Transaction
  - Display Transaction
  - UpdateTransaction
  - Confirm Delete Transaction
    
- Wishlist Management Pages
  - Create Wish List Item
  - Display Wish List Item
  - Update Wish List Item
  - Confirm Delete Wish List Item
# Assumptions & Constraints
- Interest will be paid by the parent at the end of each year. You do not need to provide any UI to facilitate the interest payment.
- If a user registers and they are not already a recipient for an account then assume they have all of the functions of an owner.
# Dividing up the Work

Obviously, you are free to divide the work as you wish for this project but a suggested approach might be:

- Work as a team on defining the data model and setting up the basic project UI
- Team member  #1: Handles Account Management and Account Details
- Team member #2: Handles Transaction Management and Interest Calculation
- Team member #3: Handles Wish Lish Management and General UI (home page, financial resource, and status page)
# Rubric

There are 50 points obtainable for this project. The break down is as follows:

## Home Page (5 points)
- 1 point for no spelling errors and no Pascal or Camel case text
- 2 points for including at least 2 images on the home page
- 2 points for leveraging bootstrap UI to provide a visually interesting page
  - Should not have any default text (including the headers)
  - Menu should be reflect your application
## Financial Resources Page (5 points)
- 1 point for no spelling errors and no Pascal or Camel case text
- 2 points for correctly using the link element to create links to other online resources. All links to 3rd party sites must open in a new window.
- 1 point for clear visual delineation of parent and child resources
## Account List View (5 points)
- 1 point for correctly redirecting an account recipient directly to their account details page skipping the account list. Also the correct accounts should be displayed for the logged in owner (e.g. an owner cannot see other owners accounts and an owner can see all accounts that belong to them).
- 1 point for displaying the account balance total
- 3 points for displaying the amount of interest earned 
## Account Management (6 points)
- 1 point: Ability to add an account completes successfully
  - Only an owner can add an account
    
- 1 point: Ability to edit an account successfully edits the account
  - Only the account owner can edit the account
  - An account recipient should not see any UI related to editing the account
    
- 2 points: Ability to delete an account
  - Delete button should only be available to account owners
  - Delete button should be available but disabled if the account has a balance
  - Using the delete button successfully deletes the account 
    - üí° watch out for foreign key violations - you may need to delete the transactions and wishlist items in the delete method along with the account
      
- 2 points: Validation works correctly on create and edit
  - Validation rules are in the rules section of the account model description above
## Account Details View (9 points)
- 2 point for displaying the transaction list and the necessary transaction level detail
  - Date of deposit / withdrawal
  - Transaction note
  - Amount of deposit / withdrawal
  - Transactions are displayed in order of transaction date
  - link to view more details for the transaction
    
- 1 point for displaying the balance information. Must display:
  - Principal amount
  - Earned interest amount 
  - principal amount plus interest 
    
- 2 point for displaying the wish list items


- 1 point for differentiating wish list items that the recipient can afford 
  - Must include the interest earned in the calculation of whether the item can be afforded
  - Must display the balance remaining if the item were to be purchased
    
- 1 point for differentiating  wish list items that the recipient cannot afford
  - Must display the amount needed (inclusive of the earned interest) in order to purchase the item
  
- 1 point for displaying the account delete and account edit buttons that use the same controller/actions as the account management view. 


- 1 point for ensuring all headers, labels, and titles are spelled correctly and have correct spacing between property names (for example a property called ‚ÄúTransactionDate‚Äù should be correctly displayed as ‚ÄúTransaction Date‚Äù)
## Transaction Functionality (10 points)
- 1 point: Adding a transaction is successful
  
- 1 point: Editing a transaction successfully updates the  transaction
  
- 1 point: Deleting a transaction successfully removes the transaction. The user is prompted before being able to delete a transaction and the delete uses the HTTP POST method.
  
- 1 point: a recipient (child) cannot delete, add, or edit a transaction
  
- 2 points: The transaction cannot be viewed, edited, or deleted by someone who is not the owner or the recipient (e.g. you cannot navigate the URL and pull up or edit the transaction by guessing the ID). E.g. cannot use an enumeration attack.
  
- 2 point for implementing the validation rules
  - The rules are listed in the model section
  
- 1 point: All headers, labels and descriptions are spelled correctly and have correct spelling. E.g. if the property is ‚ÄúTransactionDate‚Äù the UI should display ‚ÄúTransaction Date‚Äù.
  
- 1 point: Form security. Forms implement Anti-Request forgery and protect from over-posting (see http://www.abhijainsblog.com/2015/04/over-posting-attack-in-mvc.html) 


## Wishlist Functionality (10 points)
- 1 point: Adding a wish list item is successful
  
- 1 point: Editing a wish list item successfully update the wish list item
  
- 1 point: Deleting a wish list item successfully removes the wish list item. The user is prompted before deleting the wish list item and the delete uses the HTTP POST method.
  
- 2 points: The wish list item cannot be viewed, edited, or deleted by someone who is not the owner or the recipient (e.g. you cannot navigate the URL and pull up or edit the wish list item by guessing the ID). E.g. cannot use an enumeration attack.


- 2 points: All validation rules are applied
  - See the rules section in the wish list model above
    
- 1 point: All headers, labels and descriptions are spelled correctly and have correct spelling. E.g. if the property is ‚ÄúTransactionDate‚Äù the UI should display ‚ÄúTransaction Date‚Äù.
  
- 1 point: Form security. Forms implement Anti-Request forgery and protect from over-posting (see http://www.abhijainsblog.com/2015/04/over-posting-attack-in-mvc.html) 
  
- 1 point: Wish list items can be searched (using the database for search) by price and description
## Deductions
- 10 point deduction if the application does not start up
- ~~5~~ 1 point deduction if your application is not hosted inside of Azure
- 5 point deduction if you utilize the interest  calculator library
- ~~2 point deduction~~ ~~**per week**~~ ~~for failure to provide a project update~~
  - ~~Each week you must provide an updated site hosted on Azure with an updated status page.~~
  - ~~In the scenario where you cannot get your site running correctly you must email your status update and your project source code. The 2 point deduction may be waived if you have made necessary updates for the week.~~ 
## UI Bonus Points

The following additional points are available for UI improvements. You can only receive a total of 50 points for the project.


- 1 point - bootstrap progress bar
  - Use a multi-colored progress bar to indicate the percent of the account balance that is interest vs. principal
  - Use a progress bar on wishlist items that are not yet affordable as a visual indicator of the amount needed to save.
    
- 1 point - breadcrumb
  - Use the bootstrap breadcrumb UI to show the user where they are in the application
  - Breadcrumb should be at the top of every page and start from the home page
  - Examples:
    - Home
    - Home / Accounts / Little Debbie‚Äôs Account
    - Home / Accounts / Little Debbie‚Äôs Account / Edit
    - Home / Financial Resources
    - Home / Project Status
    
- 1 point - carousel
  - Display a carousel on the home page
  - The images used for the carousel are in addition to the 2 images required for the home page
  - http://getbootstrap.com/javascript/#carousel


# Deliverables

+Project Deliverables

